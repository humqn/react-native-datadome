{"version":3,"names":["React","Component","Platform","DataDome","EventTracker","barriers","makeAsyncBarrier","require","module","exports","url","options","datadome","barrier","push","cookieToReplace","getInstance","getStoredDatadomeCookie","OS","headers","Cookie","mergeCookies","_response","result","fetch","then","response","clone","isFinished","handleDatadomeResponse","logEvent","error","Error","errorToThrow","needRetry","storedCookie","opt","resultFromRetry","datadomeCookie","existingCookie","trim","attributes","split","datadomeValue","parseCookieValue","added","i","length","attribute","startsWith","datadomeAttributes","found","key","existing","join","cookieString","parts","part","nameValue","ArgumentError","message","name"],"sourceRoot":"../../src","sources":["datadome-fetch.js"],"mappings":"AAAA,YAAY;;AAGZ,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,QAAQ,QAAQ,cAAc;AACvC,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAOC,YAAY,MAAM,iBAAiB;AAE1C,MAAMC,QAAQ,GAAG,EAAE;AACnB,MAAMC,gBAAgB,GAAGC,OAAO,CAAC,eAAe,CAAC;AAEjDC,MAAM,CAACC,OAAO,GAAG,gBAAeC,GAAG,EAAEC,OAAO,EAAE;EAC5C,IAAIC,QAAQ,GAAG,KAAK;EACpB,MAAMC,OAAO,GAAGP,gBAAgB,CAAC,CAAC,CAAC;EACnCD,QAAQ,CAACS,IAAI,CAACD,OAAO,CAAC;EAEtB,IAAIF,OAAO,IAAIA,OAAO,CAACC,QAAQ,IAAI,IAAI,EAAE;IACvCA,QAAQ,GAAGD,OAAO,CAACC,QAAQ;EAC7B;EAEA,IAAIG,eAAe,GAAG,MAAMZ,QAAQ,CAACa,WAAW,CAAC,CAAC,CAACC,uBAAuB,CAAC,CAAC;EAC5E,IAAIf,QAAQ,CAACgB,EAAE,KAAK,SAAS,IAAIH,eAAe,IAAI,IAAI,IAAIA,eAAe,IAAI,EAAE,EAAE;IACjFJ,OAAO,CAACQ,OAAO,CAACC,MAAM,GAAGC,YAAY,CAACN,eAAe,EAAEJ,OAAO,CAACQ,OAAO,CAACC,MAAM,CAAC;EAChF;EAEA,IAAIE,SAAS,GAAG,IAAI;EAEpB,IAAIC,MAAM,GAAG,MAAMC,KAAK,CAACd,GAAG,EAAEC,OAAO,CAAC,CACrCc,IAAI,CAAEC,QAAQ,IAAK;IAClBJ,SAAS,GAAGI,QAAQ,CAACC,KAAK,CAAC,CAAC;IAC5B,IAAIf,QAAQ,IAAI,IAAI,IAAIA,QAAQ,IAAI,KAAK,EAAE;MACzCC,OAAO,CAAC,CAAC;MACT,OAAOS,SAAS;IAClB;IACAnB,QAAQ,CAACa,WAAW,CAAC,CAAC,CAACY,UAAU,GAAGvB,QAAQ;IAC5CF,QAAQ,CAACa,WAAW,CAAC,CAAC,CAACa,sBAAsB,CAACH,QAAQ,CAAC;IACvDtB,YAAY,CAAC0B,QAAQ,CAAC3B,QAAQ,EAAEO,GAAG,EAAEC,OAAO,CAAC;EAC/C,CAAC,CAAC;EAEF,MAAME,OAAO,CAAC,CAAC;EAEf,IAAIV,QAAQ,CAACa,WAAW,CAAC,CAAC,CAACe,KAAK,IAAI5B,QAAQ,CAACa,WAAW,CAAC,CAAC,CAACe,KAAK,YAAYC,KAAK,EAAE;IACjF,IAAIC,YAAY,GAAG9B,QAAQ,CAACa,WAAW,CAAC,CAAC,CAACe,KAAK;IAC/C5B,QAAQ,CAACa,WAAW,CAAC,CAAC,CAACe,KAAK,GAAG,IAAI;IACnC,MAAME,YAAY;EACpB;EAEA,IAAI9B,QAAQ,CAACa,WAAW,CAAC,CAAC,CAACkB,SAAS,EAAE;IACpC;;IAEA,IAAIC,YAAY,GAAG,MAAMhC,QAAQ,CAACa,WAAW,CAAC,CAAC,CAACC,uBAAuB,CAAC,CAAC;IACzE,IAAImB,GAAG,GAAGzB,OAAO;IACjB,IAAIT,QAAQ,CAACgB,EAAE,KAAK,SAAS,IAAIiB,YAAY,IAAI,IAAI,IAAIA,YAAY,IAAI,EAAE,EAAE;MAC3EC,GAAG,CAACjB,OAAO,CAACC,MAAM,GAAGC,YAAY,CAACc,YAAY,EAAEC,GAAG,CAACjB,OAAO,CAACC,MAAM,CAAC;IACrE;IAEA,IAAIiB,eAAe,GAAG,MAAMb,KAAK,CAACd,GAAG,EAAE0B,GAAG,CAAC;IAC3C,OAAOC,eAAe;EACxB;EAEA,OAAOf,SAAS;AAClB,CAAC;AAED,SAASD,YAAYA,CAACiB,cAAc,EAAEC,cAAc,EAAE;EACpD,IAAI,CAACA,cAAc,IAAI,CAACA,cAAc,CAACC,IAAI,CAAC,CAAC,EAAE;IAC7C,OAAOF,cAAc;EACvB;EAEA,IAAIG,UAAU,GAAGF,cAAc,CAACG,KAAK,CAAC,IAAI,CAAC;EAC3C,MAAMC,aAAa,GAAGC,gBAAgB,CAACN,cAAc,EAAE,UAAU,CAAC;EAElE,IAAIO,KAAK,GAAG,KAAK;EACjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,UAAU,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;IAC1C,IAAIE,SAAS,GAAGP,UAAU,CAACK,CAAC,CAAC;IAC7B,IAAIE,SAAS,CAACC,UAAU,CAAC,WAAW,CAAC,EAAE;MACrCR,UAAU,CAACK,CAAC,CAAC,GAAG,WAAW,GAAGH,aAAa;MAC3CE,KAAK,GAAG,IAAI;IACd;EACF;EAEA,IAAI,CAACA,KAAK,EAAE;IACVJ,UAAU,CAAC3B,IAAI,CAAC,WAAW,GAAG6B,aAAa,CAAC;EAC9C;EAEA,MAAMO,kBAAkB,GAAGZ,cAAc,CAACI,KAAK,CAAC,IAAI,CAAC;EACrD,KAAK,MAAMM,SAAS,IAAIE,kBAAkB,EAAE;IAC1C,IAAIC,KAAK,GAAG,KAAK;IACjB,MAAMC,GAAG,GAAGJ,SAAS,CAACN,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACnC,KAAK,MAAMW,QAAQ,IAAIZ,UAAU,EAAE;MACjC,IAAIY,QAAQ,CAACJ,UAAU,CAACG,GAAG,CAAC,EAAE;QAC5BD,KAAK,GAAG,IAAI;QACZ;MACF;IACF;IAEA,IAAI,CAACA,KAAK,EAAE;MACVV,UAAU,CAAC3B,IAAI,CAACkC,SAAS,CAAC;IAC5B;EACF;EAEA,OAAOP,UAAU,CAACa,IAAI,CAAC,IAAI,CAAC;AAC9B;AAEA,SAASV,gBAAgBA,CAACW,YAAY,EAAEH,GAAG,EAAE;EACzC,IAAII,KAAK,GAAGD,YAAY,CAACb,KAAK,CAAC,IAAI,CAAC;EACpC,KAAK,MAAMe,IAAI,IAAID,KAAK,EAAE;IACxB,IAAIC,IAAI,CAACR,UAAU,CAACG,GAAG,CAAC,EAAE;MACxB,IAAIM,SAAS,GAAGD,IAAI,CAACf,KAAK,CAAC,GAAG,CAAC;MAC/B,OAAOgB,SAAS,CAAC,CAAC,CAAC;IACrB;EACF;EAEA,OAAO,EAAE;AACX;AAEF,SAASC,aAAaA,CAACC,OAAO,EAAE;EAC9B,IAAI,CAACC,IAAI,GAAG,eAAe;EAC3B,IAAI,CAACD,OAAO,GAAGA,OAAO;AACxB"}
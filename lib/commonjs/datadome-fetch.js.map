{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_datadome","_interopRequireDefault","_eventTracker","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","barriers","makeAsyncBarrier","module","exports","url","options","datadome","barrier","push","cookieToReplace","DataDome","getInstance","getStoredDatadomeCookie","Platform","OS","headers","Cookie","mergeCookies","_response","result","fetch","then","response","clone","isFinished","handleDatadomeResponse","EventTracker","logEvent","error","Error","errorToThrow","needRetry","storedCookie","opt","resultFromRetry","datadomeCookie","existingCookie","trim","attributes","split","datadomeValue","parseCookieValue","added","length","attribute","startsWith","datadomeAttributes","found","key","existing","join","cookieString","parts","part","nameValue","ArgumentError","message","name"],"sourceRoot":"../../src","sources":["datadome-fetch.js"],"mappings":"AAAA,YAAY;;AAGZ,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,SAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,aAAA,GAAAD,sBAAA,CAAAH,OAAA;AAA0C,SAAAG,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAV,wBAAAU,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAH,UAAA,SAAAG,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAF,OAAA,EAAAE,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAC,GAAA,CAAAJ,CAAA,UAAAG,CAAA,CAAAE,GAAA,CAAAL,CAAA,OAAAM,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAZ,CAAA,oBAAAY,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAY,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAX,CAAA,EAAAY,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAZ,CAAA,CAAAY,CAAA,YAAAN,CAAA,CAAAR,OAAA,GAAAE,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAc,GAAA,CAAAjB,CAAA,EAAAM,CAAA,GAAAA,CAAA;AAE1C,MAAMY,QAAQ,GAAG,EAAE;AACnB,MAAMC,gBAAgB,GAAG5B,OAAO,CAAC,eAAe,CAAC;AAEjD6B,MAAM,CAACC,OAAO,GAAG,gBAAeC,GAAG,EAAEC,OAAO,EAAE;EAC5C,IAAIC,QAAQ,GAAG,KAAK;EACpB,MAAMC,OAAO,GAAGN,gBAAgB,CAAC,CAAC,CAAC;EACnCD,QAAQ,CAACQ,IAAI,CAACD,OAAO,CAAC;EAEtB,IAAIF,OAAO,IAAIA,OAAO,CAACC,QAAQ,IAAI,IAAI,EAAE;IACvCA,QAAQ,GAAGD,OAAO,CAACC,QAAQ;EAC7B;EAEA,IAAIG,eAAe,GAAG,MAAMC,iBAAQ,CAACC,WAAW,CAAC,CAAC,CAACC,uBAAuB,CAAC,CAAC;EAC5E,IAAIC,qBAAQ,CAACC,EAAE,KAAK,SAAS,IAAIL,eAAe,IAAI,IAAI,IAAIA,eAAe,IAAI,EAAE,EAAE;IACjFJ,OAAO,CAACU,OAAO,CAACC,MAAM,GAAGC,YAAY,CAACR,eAAe,EAAEJ,OAAO,CAACU,OAAO,CAACC,MAAM,CAAC;EAChF;EAEA,IAAIE,SAAS,GAAG,IAAI;EAEpB,IAAIC,MAAM,GAAG,MAAMC,KAAK,CAAChB,GAAG,EAAEC,OAAO,CAAC,CACrCgB,IAAI,CAAEC,QAAQ,IAAK;IAClBJ,SAAS,GAAGI,QAAQ,CAACC,KAAK,CAAC,CAAC;IAC5B,IAAIjB,QAAQ,IAAI,IAAI,IAAIA,QAAQ,IAAI,KAAK,EAAE;MACzCC,OAAO,CAAC,CAAC;MACT,OAAOW,SAAS;IAClB;IACAR,iBAAQ,CAACC,WAAW,CAAC,CAAC,CAACa,UAAU,GAAGxB,QAAQ;IAC5CU,iBAAQ,CAACC,WAAW,CAAC,CAAC,CAACc,sBAAsB,CAACH,QAAQ,CAAC;IACvDI,qBAAY,CAACC,QAAQ,CAACjB,iBAAQ,EAAEN,GAAG,EAAEC,OAAO,CAAC;EAC/C,CAAC,CAAC;EAEF,MAAME,OAAO,CAAC,CAAC;EAEf,IAAIG,iBAAQ,CAACC,WAAW,CAAC,CAAC,CAACiB,KAAK,IAAIlB,iBAAQ,CAACC,WAAW,CAAC,CAAC,CAACiB,KAAK,YAAYC,KAAK,EAAE;IACjF,IAAIC,YAAY,GAAGpB,iBAAQ,CAACC,WAAW,CAAC,CAAC,CAACiB,KAAK;IAC/ClB,iBAAQ,CAACC,WAAW,CAAC,CAAC,CAACiB,KAAK,GAAG,IAAI;IACnC,MAAME,YAAY;EACpB;EAEA,IAAIpB,iBAAQ,CAACC,WAAW,CAAC,CAAC,CAACoB,SAAS,EAAE;IACpC;;IAEA,IAAIC,YAAY,GAAG,MAAMtB,iBAAQ,CAACC,WAAW,CAAC,CAAC,CAACC,uBAAuB,CAAC,CAAC;IACzE,IAAIqB,GAAG,GAAG5B,OAAO;IACjB,IAAIQ,qBAAQ,CAACC,EAAE,KAAK,SAAS,IAAIkB,YAAY,IAAI,IAAI,IAAIA,YAAY,IAAI,EAAE,EAAE;MAC3EC,GAAG,CAAClB,OAAO,CAACC,MAAM,GAAGC,YAAY,CAACe,YAAY,EAAEC,GAAG,CAAClB,OAAO,CAACC,MAAM,CAAC;IACrE;IAEA,IAAIkB,eAAe,GAAG,MAAMd,KAAK,CAAChB,GAAG,EAAE6B,GAAG,CAAC;IAC3C,OAAOC,eAAe;EACxB;EAEA,OAAOhB,SAAS;AAClB,CAAC;AAED,SAASD,YAAYA,CAACkB,cAAc,EAAEC,cAAc,EAAE;EACpD,IAAI,CAACA,cAAc,IAAI,CAACA,cAAc,CAACC,IAAI,CAAC,CAAC,EAAE;IAC7C,OAAOF,cAAc;EACvB;EAEA,IAAIG,UAAU,GAAGF,cAAc,CAACG,KAAK,CAAC,IAAI,CAAC;EAC3C,MAAMC,aAAa,GAAGC,gBAAgB,CAACN,cAAc,EAAE,UAAU,CAAC;EAElE,IAAIO,KAAK,GAAG,KAAK;EACjB,KAAK,IAAI5C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwC,UAAU,CAACK,MAAM,EAAE7C,CAAC,EAAE,EAAE;IAC1C,IAAI8C,SAAS,GAAGN,UAAU,CAACxC,CAAC,CAAC;IAC7B,IAAI8C,SAAS,CAACC,UAAU,CAAC,WAAW,CAAC,EAAE;MACrCP,UAAU,CAACxC,CAAC,CAAC,GAAG,WAAW,GAAG0C,aAAa;MAC3CE,KAAK,GAAG,IAAI;IACd;EACF;EAEA,IAAI,CAACA,KAAK,EAAE;IACVJ,UAAU,CAAC9B,IAAI,CAAC,WAAW,GAAGgC,aAAa,CAAC;EAC9C;EAEA,MAAMM,kBAAkB,GAAGX,cAAc,CAACI,KAAK,CAAC,IAAI,CAAC;EACrD,KAAK,MAAMK,SAAS,IAAIE,kBAAkB,EAAE;IAC1C,IAAIC,KAAK,GAAG,KAAK;IACjB,MAAMC,GAAG,GAAGJ,SAAS,CAACL,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACnC,KAAK,MAAMU,QAAQ,IAAIX,UAAU,EAAE;MACjC,IAAIW,QAAQ,CAACJ,UAAU,CAACG,GAAG,CAAC,EAAE;QAC5BD,KAAK,GAAG,IAAI;QACZ;MACF;IACF;IAEA,IAAI,CAACA,KAAK,EAAE;MACVT,UAAU,CAAC9B,IAAI,CAACoC,SAAS,CAAC;IAC5B;EACF;EAEA,OAAON,UAAU,CAACY,IAAI,CAAC,IAAI,CAAC;AAC9B;AAEA,SAAST,gBAAgBA,CAACU,YAAY,EAAEH,GAAG,EAAE;EACzC,IAAII,KAAK,GAAGD,YAAY,CAACZ,KAAK,CAAC,IAAI,CAAC;EACpC,KAAK,MAAMc,IAAI,IAAID,KAAK,EAAE;IACxB,IAAIC,IAAI,CAACR,UAAU,CAACG,GAAG,CAAC,EAAE;MACxB,IAAIM,SAAS,GAAGD,IAAI,CAACd,KAAK,CAAC,GAAG,CAAC;MAC/B,OAAOe,SAAS,CAAC,CAAC,CAAC;IACrB;EACF;EAEA,OAAO,EAAE;AACX;AAEF,SAASC,aAAaA,CAACC,OAAO,EAAE;EAC9B,IAAI,CAACC,IAAI,GAAG,eAAe;EAC3B,IAAI,CAACD,OAAO,GAAGA,OAAO;AACxB"}